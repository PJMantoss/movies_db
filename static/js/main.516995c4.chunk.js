(this.webpackJsonpmovies_db=this.webpackJsonpmovies_db||[]).push([[0],{79:function(e,t,a){e.exports=a(95)},85:function(e,t,a){},86:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);a(80);var n=a(0),r=a.n(n),l=a(8),i=a.n(l),c=(a(85),a(16)),o=a(17),s=a(21),m=a(18),u=a(20),h=a(24),p=(a(86),a(87),a(31)),g=a(41),d=a(131),v=a(127),E=a(130),f=function(e){var t=e.movies;return r.a.createElement(h.b,{to:"/movies/".concat(t.show.id)},r.a.createElement(v.a,{button:!0},r.a.createElement(E.a,{primary:t.show.name})))};var b=function(e){return r.a.createElement("div",{style:{display:"flex",flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"}},r.a.createElement(d.a,{component:"nav"},e.list.map((function(e){return r.a.createElement(f,{movies:e,key:e.show.id})}))))},y=a(145),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onMoviesInputChange=function(e){a.setState({movieName:e.target.value,isFetching:!0}),fetch("http://api.tvmaze.com/search/shows?q=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({movies:e,isFetching:!1})}))},a.state={movies:[],movieName:"",isFetching:!1,importantText:""},a.onMoviesInputChange=a.onMoviesInputChange.bind(Object(g.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.movies,a=e.movieName,n=e.isFetching,l=e.importantText;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y.a,{id:"search",label:"Search Movies",type:"search",margin:"normal",value:a,onChange:this.onMoviesInputChange,helperText:l})),r.a.createElement("div",null,!n&&0===t.length&&""===a.trim()&&r.a.createElement("p",null),!n&&0===t.length&&""!==a.trim()&&r.a.createElement("p",null,"No Movies have been found with this name"),!n&&r.a.createElement(b,{list:this.state.movies})))}}]),t}(n.Component),w=a(33),O="LEFT",P="RIGHT",N=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},x=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).fetchPageNumbers=function(){var e=a.totalPages,t=a.state.currentPage,n=a.pageNeighbours,r=2*a.pageNeighbours+3;if(e>r+2){var l=Math.max(2,t-n),i=Math.min(e-1,t+n),c=N(l,i),o=l>2,s=e-i>1,m=r-(c.length+1);switch(!0){case o&&!s:var u=N(l-m,l-1);c=[O].concat(Object(w.a)(u),Object(w.a)(c));break;case!o&&s:var h=N(i+1,i+m);c=[].concat(Object(w.a)(c),Object(w.a)(h),[P]);break;case o&&s:default:c=[O].concat(Object(w.a)(c),[P])}return[1].concat(Object(w.a)(c),[e])}return N(1,e)},a.gotoPage=function(e){var t=a.props.onPageChanged,n=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,a.totalPages)),l={currentPage:r,totalPages:a.totalPages,pageLimit:a.pageLimit,totalRecords:a.totalRecords};a.setState({currentPage:r},(function(){return n(l)}))},a.handleClick=function(e){return function(t){t.preventDefault(),a.gotoPage(e)}},a.handleMoveLeft=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage-2*a.pageNeighbours-1)},a.handleMoveRight=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage+2*a.pageNeighbours+1)};var n=e.totalRecords,r=void 0===n?null:n,l=e.pageLimit,i=void 0===l?10:l,o=e.pageNeighbours,u=void 0===o?0:o;return a.pageLimit="number"===typeof i?i:30,a.totalRecords="number"===typeof r?r:0,a.pageNeighbours="number"===typeof u?Math.max(0,Math.min(u,2)):0,a.totalPages=Math.ceil(a.totalRecords/a.pageLimit),a.state={currentPage:1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords||1===this.totalPages)return null;var t=this.state.currentPage,a=this.fetchPageNumbers();return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{"aria-label":"Shows Pagination"},r.a.createElement("ul",{className:"pagination"},a.map((function(a,n){return a===O?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e.handleMoveLeft},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))):a===P?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e.handleMoveRight},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next"))):r.a.createElement("li",{key:n,className:"page-item".concat(t===a?" active":"")},r.a.createElement("a",{className:"page-link",href:"#",onClick:e.handleClick(a)},a))})))))}}]),t}(n.Component),k=a(133),C=a(134),M=a(132),D=a(45),S=a(135),R=a(138),L=a(137),T=a(136),I=Object(M.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",GridTemplateRow:"auto",gridGap:e.spacing(3)},divider:{margin:e.spacing(2,0)}}})),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onPageChanged=function(e){var t=a.state.tvShows,n=e.currentPage,r=e.totalPages,l=e.pageLimit,i=(n-1)*l,c=t.slice(i,i+l);a.setState({currentPage:n,currentShows:c,totalPages:r})},a.state={tvShows:[],currentShows:[],currentPage:null,totalPages:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://api.tvmaze.com/shows").then((function(e){return e.json()})).then((function(t){e.setState({tvShows:t})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.tvShows,n=t.currentShows,l=t.currentPage,i=t.totalPages,c=a.length;if(0===c)return null;var o=["text-dark py-2 pr-4 m-0",l?"border-gray border-right":""].join(" ").trim();return r.a.createElement(k.a,null,r.a.createElement(j,null),r.a.createElement("div",{className:"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between"},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("h2",{className:o},r.a.createElement("strong",{className:"text-secondary"},c)," TV Shows"),l&&r.a.createElement("span",{className:"current-page d-inline-block h-100 pl-4 text-secondary"},"Page ",r.a.createElement("span",{className:"font-weight-bold"},l)," / ",r.a.createElement("span",{className:"font-weight-bold"},i))),r.a.createElement("div",{className:"d-flex flex-row py-4 align-items-center"},r.a.createElement(x,{totalRecords:c,pageLimit:18,pageNeighbours:1,onPageChanged:this.onPageChanged}))),n.map((function(t,a){return r.a.createElement("div",{className:I.root,key:a,item:t},r.a.createElement(C.a,{container:!0,spacing:3},e.state.tvShows.map((function(e,t){return r.a.createElement(C.a,{item:!0,xs:3,key:t},r.a.createElement(h.b,{style:{textDecoration:"none"},to:"/movieinfo/${id}"},r.a.createElement(S.a,null,r.a.createElement(T.a,{style:{height:400},component:"img",image:e.image.original}),r.a.createElement(L.a,null,r.a.createElement(D.a,{component:"h2"},e.name),r.a.createElement(D.a,{component:"h3"},"Year: ",e.premiered),r.a.createElement(D.a,{component:"h3"},"Rating: ",e.rating.average)),r.a.createElement(R.a,null))))}))))})))}}]),t}(n.Component),z=a(147),B=a(143),G=a(140),H=a(141),Y=a(142),_=a(62),A=a.n(_),J=a(139),V={appBar:{position:"relative"},flex:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}};function $(e){return r.a.createElement(J.a,Object.assign({direction:"up"},e))}var q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,show:null},a.handleClose=function(){a.setState({open:!1})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("http://api.tvmaze.com/shows/".concat(t,"?embed=episodes")).then((function(e){return e.json()})).then((function(t){return e.setState({show:t,open:!0})}))}},{key:"render",value:function(){var e=this.state.show;return r.a.createElement("div",null,null!==e&&r.a.createElement(z.a,{fullscreen:!0,open:this.state.open,onClose:this.handleClose,TransitionComponent:$},r.a.createElement(G.a,{style:V.appBar},r.a.createElement(H.a,null,r.a.createElement(h.b,{to:"/"},r.a.createElement(Y.a,{color:"default",onClick:this.handleClose,"aria-label":"Close"},r.a.createElement(A.a,null))),r.a.createElement(D.a,{variant:"title",color:"inherit",style:V.flex},e.name))),r.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement(v.a,{button:!0},null!=e.image&&r.a.createElement("img",{alt:"Show",src:e.image.medium}))),r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(v.a,{button:!0},r.a.createElement(E.a,{primary:"Premiered",secondary:e.premiered})),r.a.createElement(B.a,null),r.a.createElement(v.a,{button:!0},r.a.createElement(E.a,{primary:"Rating",secondary:e.rating.average})),r.a.createElement(B.a,null),r.a.createElement(v.a,{button:!0},r.a.createElement(E.a,{primary:"Episodes",secondary:e._embedded.episodes.length})),r.a.createElement(B.a,null))))))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={movieDetails:{},loading:!0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;fetch("http://api.tvmaze.com/shows/".concat(t,"?embed=cast")).then((function(e){return e.json()})).then((function(t){e.setState({movieDetails:t,loading:!1})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k.a,null,this.state.loading?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(T.a,{style:{height:400},component:"img",image:this.state.movieDetails.image}),r.a.createElement(L.a,null,r.a.createElement(D.a,{component:"h1"},this.state.movieDetails.name),r.a.createElement(D.a,{component:"h3"},"Year: ",this.state.movieDetails.premiered),r.a.createElement(D.a,{component:"h3"},"Rating: ",this.state.movieDetails.rating),r.a.createElement(D.a,{component:"h3"},"Genre: ",this.state.movieDetails.genres)),r.a.createElement(R.a,null))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h2",null,"Summary"),this.state.movieDetails.summary),r.a.createElement("div",null,this.state.movieDetails.episodes),r.a.createElement("div",null,r.a.createElement("h3",null,"Cast"),this.state.movieDetails.cast))))}}]),t}(n.Component),K=function(e){return r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:F}),r.a.createElement(p.a,{path:"/movies/:id",component:q}),r.a.createElement(p.a,{path:"/movieinfo/${id}",component:U}))},Q=a(144),W=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("table",{className:"tableHead"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement("img",{alt:"app icon",width:"85",src:"https://img.icons8.com/clouds/200/000000/retro-tv.png"})," "),r.a.createElement("td",{width:"10"}),r.a.createElement("td",null,r.a.createElement("h1",null,"Movies Database")),r.a.createElement("td",{className:"homeBtn"},r.a.createElement(h.b,{style:{textDecoration:"none"},to:"/"},r.a.createElement(Q.a,{variant:"contained",color:"primary"},"Home")))))),r.a.createElement(G.a,{position:"static"},r.a.createElement(H.a,null,r.a.createElement(D.a,{variant:"title",color:"inherit",style:{flex:1},align:"center"},"Look Up Your Favorite TV Shows and Movies"))),r.a.createElement(K,null))}}]),t}(r.a.Component);i.a.render(r.a.createElement(h.a,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.516995c4.chunk.js.map